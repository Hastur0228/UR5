# UR5 客户端-服务器通信

## 客户端-服务器通信

### 1. 机器人作为客户端

#### 基本客户端连接
```urscript
# 客户端连接示例
def connect_to_server():
    host_ip = "192.168.1.100"
    host_port = 30000
    
    # 建立连接
    connection = socket_open(host_ip, host_port)
    
    if connection:
        textmsg("连接服务器成功")
        return connection
    else:
        textmsg("连接服务器失败")
        return False
    end
end
```

#### 发送请求数据
```urscript
# 向服务器发送请求
def send_request(request_data):
    if socket_send_string(request_data):
        textmsg("数据发送成功")
    else:
        textmsg("数据发送失败")
    end
end
```

### 2. 机器人作为服务器

#### 服务器设置
```urscript
# 创建服务器套接字
server_socket = socket_open("0.0.0.0", 12345)  # 监听所有接口

# 等待客户端连接
while not socket_get_var("connected", server_socket):
    sleep(0.1)
end

textmsg("客户端已连接")
```